<ion-pane>
  <ion-content>
  	<div class="column quiz"
  		ng-class="{
  			'success': quiz.mode === 'success',
  			'error': quiz.mode === 'error',
        'prompt': quiz.mode === 'prompt'
  		}">
  		<div class="row">
  			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1235 51"
  				ng-click="quiz.goBack()">
          <rect y="27.51" width="570.44" height="2" />
              <path  d="M632.62,45.62c-1.8-0.98-3.54-1.97-5.27-2.99c-0.27-0.16-0.52-0.34-0.8-0.49c-0.25-0.13-0.26-0.27-0.13-0.49
                  c0.42-0.71,0.77-1.45,1.09-2.21c0.67-1.6,1-3.28,1.1-5.01c0.05-0.99,0.13-1.98,0.03-2.97c-0.15-1.51-0.55-2.95-1.11-4.35
                  c-0.95-2.39-2.41-4.42-4.46-6c-1.4-1.08-2.98-1.76-4.67-2.24c-0.84-0.24-1.56-0.67-2.13-1.34c-1.39-1.65-2.96-3.11-4.61-4.48
                  c-0.69-0.57-1.39-1.11-2.17-1.54c-1.67-0.91-3.38-0.83-5.06-0.04c-0.95,0.44-1.82,1.01-2.51,1.82c-0.03,0.04-0.06,0.07-0.09,0.11
                  c-0.47,0.65-0.3,1.14,0.47,1.37c0.27,0.08,0.55,0.12,0.84,0.11c0.63-0.02,1.26,0.02,1.9,0.09c1.03,0.12,1.92,0.55,2.69,1.23
                  c0.9,0.8,1.76,1.63,2.53,2.56c0.18,0.22,0.34,0.46,0.41,0.74c0.6,2.28,1.85,4.2,3.31,6.01c0.5,0.62,0.96,1.26,1.43,1.9
                  c0.32,0.44,0.58,0.93,0.75,1.46c0.31,0.94,0.15,1.83-0.35,2.66c-0.34,0.57-0.79,1.06-1.25,1.54c-0.15,0.16-0.23,0.03-0.32-0.05
                  c-1.51-1.29-3.01-2.59-4.48-3.93c-3.6-3.27-7.01-6.73-10.11-10.49c-0.97-1.18-1.87-2.43-2.78-3.65c-0.06-0.08-0.11-0.15-0.2-0.26
                  c-0.07,0.14-0.14,0.26-0.2,0.38c-0.35,0.77-0.64,1.55-0.86,2.36c-0.04,0.16-0.01,0.26,0.08,0.38c4.76,6.11,10.04,11.71,15.97,16.69
                  c0.14,0.12,0.28,0.26,0.43,0.37c0.14,0.11,0.14,0.18,0.01,0.31c-0.45,0.42-0.88,0.85-1.34,1.27c-2.44,2.25-4.88,4.5-7.36,6.71
                  c-0.56,0.5-0.56,0.49-1.09-0.03c-1.41-1.39-2.77-2.82-3.84-4.5c-1.86-2.9-3.18-6.02-3.76-9.43c-0.65-3.8-0.45-7.55,0.61-11.25
                  c0.06-0.22,0.03-0.38-0.1-0.57c-1.32-1.87-2.57-3.79-3.57-5.85c-0.66-1.34-1.24-2.72-1.46-4.21c-0.14-0.97-0.15-1.93,0.31-2.83
                  c0.48-0.95,1.32-1.4,2.31-1.6c1.14-0.23,2.28-0.12,3.41,0.08c2.01,0.37,3.91,1.06,5.78,1.86c0.5,0.21,1.01,0.43,1.5,0.66
                  c0.19,0.09,0.32,0.07,0.48-0.06c2.5-1.91,5.28-3.3,8.31-4.16c2.44-0.69,4.92-1.01,7.45-0.93c3.84,0.12,7.46,1.08,10.85,2.89
                  c3.09,1.65,5.73,3.83,7.88,6.59c1.94,2.49,3.33,5.28,4.22,8.31c0.88,2.99,1.16,6.04,0.87,9.14c-0.31,3.33-1.27,6.47-2.84,9.43
                  c-0.09,0.16-0.05,0.27,0.04,0.41c1.05,1.57,2.05,3.17,2.87,4.88c0.6,1.27,1.12,2.58,1.36,3.98c0.19,1.1,0.16,2.19-0.46,3.18
                  c-0.44,0.69-1.09,1.08-1.87,1.27c-1.35,0.33-2.68,0.19-4.02-0.08c-2.47-0.5-4.78-1.46-7.06-2.5c-0.44-0.2-0.88-0.39-1.31-0.61
                  c-0.19-0.09-0.34-0.1-0.53-0.01c-1.79,0.79-3.63,1.44-5.55,1.86c-1.82,0.4-3.65,0.58-5.51,0.53c-0.03-0.11,0.06-0.14,0.11-0.18
                  c1.84-1.8,3.68-3.6,5.51-5.4c0.16-0.16,0.26-0.16,0.44-0.03c1.61,1.11,3.33,2.05,5.08,2.93c0.16,0.08,0.29,0.08,0.45,0
                  C631.06,46.56,631.81,46.09,632.62,45.62z M639.43,18.39c-0.02-0.6-0.08-0.82-0.37-1.23c-0.52-0.73-1.11-1.39-1.77-1.98
                  c-0.69-0.62-2.04-0.64-2.77-0.08c-1.33,1.03-2.61,2.12-3.9,3.21c-0.72,0.61-1.46,1.2-2.12,1.88c-0.81,0.83-0.98,2.01-0.41,2.89
                  c0.51,0.79,1.11,1.51,1.81,2.13c0.77,0.7,2.06,0.72,2.88,0.07c0.45-0.36,0.91-0.71,1.35-1.08c1.57-1.32,3.16-2.61,4.64-4.04
                  C639.26,19.67,639.42,19.09,639.43,18.39z M626.86,19.72c0.64,0,1.16-0.12,1.6-0.48c2.06-1.66,4.12-3.33,6.01-5.18
                  c0.66-0.65,0.81-1.97,0.31-2.76c-0.53-0.84-1.2-1.55-1.96-2.19c-0.66-0.56-2.03-0.54-2.64-0.05c-0.62,0.5-1.24,0.99-1.85,1.5
                  c-1.46,1.22-2.92,2.43-4.29,3.75c-0.68,0.66-0.83,1.87-0.39,2.65c0.51,0.89,1.19,1.65,1.98,2.32
                  C626.03,19.59,626.46,19.74,626.86,19.72z M632.81,45.68c1.78,0.81,3.51,1.63,5.39,2.1c0.99,0.25,2,0.43,3.03,0.28
                  c1.03-0.14,1.68-0.8,1.82-1.83c0.09-0.63-0.02-1.25-0.21-1.84c-0.62-2.05-1.74-3.84-2.95-5.59c-0.15-0.22-0.23-0.22-0.38,0.01
                  c-1.33,2.05-2.99,3.79-4.85,5.36C634.06,44.68,633.45,45.16,632.81,45.68z M640.32,27.31c0-0.64-0.08-0.96-0.36-1.36
                  c-0.49-0.7-1.06-1.33-1.72-1.88c-0.64-0.52-1.87-0.63-2.52-0.17c-1.19,0.85-2.33,1.78-3.33,2.85c-0.79,0.85-0.84,1.87-0.24,2.87
                  c0.34,0.56,0.78,1.04,1.22,1.52c1.09,1.17,2.52,1.02,3.51,0.21c0.94-0.76,1.85-1.56,2.72-2.4
                  C640.12,28.49,640.33,27.91,640.32,27.31z M602.14,6.95c-0.5-0.21-0.95-0.39-1.39-0.57c-1.71-0.72-3.46-1.2-5.33-1.1
                  c-1.12,0.06-1.86,0.78-1.92,1.91c-0.05,0.85,0.14,1.65,0.43,2.44c0.64,1.76,1.63,3.34,2.65,4.9c0.01,0.01,0.03,0.01,0.08,0.03
                  C598,11.7,599.9,9.23,602.14,6.95z"/>
          <rect y="13.51" width="570.44" height="2"/>
          <rect x="665.01" y="13.51" width="569.99" height="2"/>
          <rect x="665.01" y="27.51" width="569.99" height="2"/>
        </svg>
  		</div>
		<div class="row">
			<div class="col big-col">
	  		<h2 ng-hide="vm.mode === 'prompt'">{{quiz.question.question}}</h2>
				<h1 ng-hide="vm.mode === 'prompt'">{{quiz.message}}</h1>

        <form ng-show="quiz.mode === 'prompt'">
          <div class="item item-input">
            <input type="text" placeholder="Guess an answer ... "
              ng-model="quiz.answer">
            <i class="icon ion-mic-a"
              ng-click="quiz.speech($event)">
            </i>
          </div>

          <button class="button button-clear button-balanced"
            ng-disabled="!quiz.answer"
            ng-click="quiz.guess()">
            Submit Answer
          </button>
        </form>

        <div class="list list-inset"
          ng-show="quiz.mode === 'learnmore'">
            <div class="item item-divider">
              {{quiz.insight.abstract}}
            </div>

            <div class="item"
              ng-repeat="concept in quiz.insight.related_concepts track by $index">
              <a ng-href="{{concept.wikipedia_link}}">
                {{concept.concept}}
              </a>
            </div>
        </div>

				<div class="actions"
          ng-show="quiz.mode !== 'prompt'">
					<button class="button icon ion-chevron-left button-clear"
            ng-show="quiz.currentQuestionId !== 0"
            ng-click="quiz.toPreviousQuestion()">
					</button>
					<button class="button button-clear"
						ng-if="quiz.mode === 'success'"
            ng-click="quiz.learnMore()">
						Learn More
					</button>
          <button class="button button-clear"
            ng-if="quiz.mode === 'error'"
            ng-click="quiz.retry()">
            Try Again
          </button>
          <button class="button button-clear"
            ng-click="quiz.done()">
            Done
          </button>
					<buton class="button icon ion-chevron-right button-clear"
            ng-show="quiz.currentQuestionId + 1 < quiz.deck.questions.length"
            ng-click="quiz.toNextQuestion()">
					</buton>
				</div>
			</div>
			<div class="col small-col">
				<img ng-src="{{quiz.imageUrl}}" alt="">
			</div>
		</div>
  	</div>
  </ion-content>
</ion-pane>
